var e=Object.assign;import{r as t,a,o as s,c as l,b as n,w as r,d as o,t as d,u as c,e as i,f as u,p,g as m,h,F as v,i as f,j as g,k as b,l as y,m as k,n as x,q as I,v as w,s as P,x as V,y as C,z as S,T as U,A as T,B as _,C as E,D as N,E as O,G as D,H as L,I as M}from"./vendor.9c11db83.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const s=new URL(e,location),l=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,n)=>{const r=new URL(e,s);if(self[t].moduleMap[r])return a(self[t].moduleMap[r]);const o=new Blob([`import * as m from '${r}';`,`${t}.moduleMap['${r}']=m;`],{type:"text/javascript"}),d=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(o),onerror(){n(new Error(`Failed to import: ${e}`)),l(d)},onload(){a(self[t].moduleMap[r]),l(d)}});document.head.appendChild(d)})),self[t].moduleMap={}}}("/assets/");const q={inject:["t"],setup(){const e=t(!1);return{show:e,toggleShow:()=>{e.value=!e.value}}}},B={class:"navbar",role:"navigation","aria-label":"main navigation"},R={class:"navbar-brand"},j=n("span",{"aria-hidden":"true"},null,-1),$=n("span",{"aria-hidden":"true"},null,-1),F=n("span",{"aria-hidden":"true"},null,-1),A={class:"navbar-start"},H=o(" Nhân Viên ");q.render=function(e,t,c,i,u,p){const m=a("router-link");return s(),l("nav",B,[n("div",R,[n("a",{role:"button",class:["navbar-burger",{"is-active":i.show}],"aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample",onClick:t[1]||(t[1]=(...e)=>i.toggleShow&&i.toggleShow(...e))},[j,$,F],2)]),n("div",{id:"navbarBasicExample",class:["navbar-menu",{"is-active":i.show}]},[n("div",A,[n(m,{to:{name:"products"},class:"navbar-item"},{default:r((()=>[o(d(p.t("navbar.products")),1)])),_:1}),n(m,{to:{name:"customers"},class:"navbar-item"},{default:r((()=>[o(d(p.t("navbar.customers")),1)])),_:1}),n(m,{to:{name:"orders"},class:"navbar-item"},{default:r((()=>[o(d(p.t("navbar.orders")),1)])),_:1}),n(m,{to:{name:"staff"},class:"navbar-item"},{default:r((()=>[H])),_:1})])],2)])};const K={components:{Navbar:q},provide(){return{t:this.t,n:this.n,websiteTitle:"Tạp Hóa Cô Mai"}},setup(){const{t:e,n:t}=c(),a=u();return i((()=>{a.dispatch("setLanguage")})),{t:e,n:t}}},z={class:"container"};K.render=function(e,t,r,o,d,c){const i=a("Navbar"),u=a("router-view");return s(),l("div",z,[n(i),n(u)])};const G={props:["product"],inject:["n"],setup:e=>({firstUnit:h((()=>e.product.active?e.product.units[0]:void 0)),otherUnits:h((()=>e.product.active?e.product.units.slice(1):[])),rowSpan:h((()=>e.product.active?Math.max(e.product.units.length,1):1)),toLink:h((()=>({name:"product-detail",params:{id:e.product.id}})))})},X=g("data-v-380133c0");p("data-v-380133c0");const Q={class:"has-text-right"},J={class:"has-text-right"};m();const W=X(((e,t,r,c,i,u)=>{var p;const m=a("router-link");return s(),l(v,null,[n("tr",null,[n("td",{rowspan:c.rowSpan,class:"product-name is-capitalized"},[n(m,{to:c.toLink,class:{deleted:!r.product.active}},{default:X((()=>[o(d(r.product.name),1)])),_:1},8,["to","class"])],8,["rowspan"]),n("td",null,d((null==(p=c.firstUnit)?void 0:p.name)||""),1),n("td",Q,d(c.firstUnit?u.n(parseFloat(c.firstUnit.price),"currency"):""),1)]),(s(!0),l(v,null,f(c.otherUnits,(e=>(s(),l("tr",{key:e.id},[n("td",null,d(e.name),1),n("td",J,d(u.n(parseFloat(e.price),"currency")),1)])))),128))],64)}));G.render=W,G.__scopeId="data-v-380133c0";const Y={components:{ProductRow:G},inject:["t"],setup(){const e=u();i((()=>{e.dispatch("products/fetchProducts")}));return{products:h((()=>e.getters["products/products"]))}}},Z={class:"title is-4 has-text-centered mt-2"},ee={class:"table is-bordered mb-5"},te={class:"has-text-centered"};Y.render=function(e,t,r,o,c,i){const u=a("ProductRow");return s(),l(v,null,[n("h4",Z,d(i.t("products.list")),1),n("table",ee,[n("thead",null,[n("tr",te,[n("th",null,d(i.t("products.table.product")),1),n("th",null,d(i.t("products.table.unit")),1),n("th",null,d(i.t("products.table.price")),1)])]),n("tbody",null,[(s(!0),l(v,null,f(o.products,(e=>(s(),l(u,{key:e.id,product:e},null,8,["product"])))),128))])])],64)};const ae={props:{type:{type:String,default:"text"},icon:{type:String,default:""},placeholder:{type:String,default:""},modelValue:{required:!0},label:{type:String,default:""},blur:{type:Function,default:()=>{}},focus:{type:Function,default:()=>{}},readonly:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,a){const s=t(null);return{handleInput:e=>{a.emit("update:modelValue",e.target.value)},blur_:()=>{setTimeout(e.blur,200)},enter:()=>{s.value.blur()},inputRef:s}}},se={class:"field"},le={key:0,class:"label"},ne={key:0,class:"icon is-small is-left"};ae.render=function(e,t,a,r,o,c){return s(),l("div",se,[a.label?(s(),l("label",le,d(a.label),1)):b("",!0),n("div",{class:["control",{"has-icons-left":!!a.icon}]},[n("input",{ref:"inputRef",class:["input",{"has-text-right":"number"===a.type}],type:a.type,placeholder:a.placeholder,value:a.modelValue,onInput:t[1]||(t[1]=(...e)=>r.handleInput&&r.handleInput(...e)),onBlur:t[2]||(t[2]=(...e)=>r.blur_&&r.blur_(...e)),onFocus:t[3]||(t[3]=(...e)=>a.focus&&a.focus(...e)),onKeypress:t[4]||(t[4]=y(((...e)=>r.enter&&r.enter(...e)),["enter"])),readonly:a.readonly},null,42,["type","placeholder","value","readonly"]),a.icon?(s(),l("span",ne,[n("i",{class:`fas ${a.icon}`},null,2)])):b("",!0)],2)])};const re={components:{UnrequiredInput:ae},props:["type","icon","placeholder","modelValue","label","time","blur","focus"],emits:["update:modelValue"],setup(e,a){let s=null;const l=t(e.modelValue);return k(e,(()=>{e.modelValue!==l.value&&(l.value=e.modelValue)})),k(l,(()=>{s&&clearTimeout(s),s=setTimeout((()=>{a.emit("update:modelValue",l.value)}),e.time||600)})),{value:l}}};re.render=function(e,t,n,r,o,d){const c=a("UnrequiredInput");return s(),l(c,{type:n.type,icon:n.icon,placeholder:n.placeholder,label:n.label,modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=e=>r.value=e),blur:n.blur,focus:n.focus},null,8,["type","icon","placeholder","label","modelValue","blur","focus"])};const oe={components:{DebounceInput:re},props:{label:{type:String,default:"search"},placeholder:{type:String,default:""},actionName:{type:String,default:""},paramName:{type:String,default:"name"}},setup(e){const a=t(""),s=u(),l=x("t");k(a,(()=>{""!==e.actionName&&s.dispatch(e.actionName,{[e.paramName]:a.value})}));const n=h((()=>""!==e.label?l(e.label):"")),r=h((()=>""!==e.placeholder?l(e.placeholder):""));return{searchName:a,label:n,placeholder:r}}},de=g("data-v-2d748c2f");p("data-v-2d748c2f");const ce={class:"list-search"};m();const ie=de(((e,t,r,o,d,c)=>{const i=a("DebounceInput");return s(),l("div",ce,[n(i,{type:"text",modelValue:o.searchName,"onUpdate:modelValue":t[1]||(t[1]=e=>o.searchName=e),label:o.label,placeholder:o.placeholder},null,8,["modelValue","label","placeholder"])])}));oe.render=ie,oe.__scopeId="data-v-2d748c2f";const ue={components:{ListSearch:oe}};ue.render=function(e,t,n,r,o,d){const c=a("ListSearch");return s(),l(c,{placeholder:"products.searchPlaceholder",actionName:"products/fetchProducts"})};const pe={components:{ProductList:Y,ProductSearch:ue},inject:["t","websiteTitle"],created(){document.title="Hàng Hóa - "+this.websiteTitle}},me={class:"table-page"},he={class:"has-text-right"};pe.render=function(e,t,c,i,u,p){const m=a("router-link"),h=a("ProductSearch"),v=a("ProductList");return s(),l("div",me,[n("div",he,[n(m,{to:{name:"product-add"},class:"button is-info is-outlined"},{default:r((()=>[o(d(p.t("products.addButton")),1)])),_:1})]),n(h),n(v)])};const ve={props:["type","icon","placeholder","modelValue","validate","label"],emits:["update:modelValue"],setup(e,a){const s=t(!1);return{invalid:s,handleInput:e=>{a.emit("update:modelValue",e.target.value)},validateInput:()=>{e.validate&&(s.value=e.validate(e.modelValue)),""===e.modelValue&&(s.value=!0)}}}},fe={class:"field"},ge={key:0,class:"label"},be={key:0,class:"icon is-small is-left"},ye={key:1,class:"icon is-small is-right has-text-danger"},ke=n("i",{class:"fas fa-exclamation-circle"},null,-1);ve.render=function(e,t,a,r,o,c){return s(),l("div",fe,[a.label?(s(),l("label",ge,d(a.label),1)):b("",!0),n("div",{class:["control",{"has-icons-left":!!a.icon,"has-icons-right":r.invalid}]},[n("input",{class:["input",{"is-danger":r.invalid,"has-text-right":"number"===a.type}],type:a.type,placeholder:a.placeholder,value:a.modelValue,onInput:t[1]||(t[1]=(...e)=>r.handleInput&&r.handleInput(...e)),onBlur:t[2]||(t[2]=(...e)=>r.validateInput&&r.validateInput(...e)),onFocus:t[3]||(t[3]=e=>r.invalid=!1),required:""},null,42,["type","placeholder","value"]),a.icon?(s(),l("span",be,[n("i",{class:`fas ${a.icon}`},null,2)])):b("",!0),r.invalid?(s(),l("span",ye,[ke])):b("",!0)],2)])};const xe={components:{RequiredInput:ve},inject:["t"],setup(){const e=t(""),a=t(""),s=u(),l=t("");return{name:e,description:a,errorMessage:l,onSubmit:async()=>{try{await s.dispatch("products/addProduct",{name:e.value.trim().toLowerCase(),description:a.value})}catch(t){t.response.data.name&&(l.value="Khách Hàng đã tồn tại")}}}}},Ie=g("data-v-567bfe53");p("data-v-567bfe53");const we={class:"title is-4 has-text-centered"},Pe={class:"field"},Ve={class:"label"},Ce={class:"control"},Se={class:"field is-grouped is-grouped-centered"},Ue={class:"control"},Te={class:"control"};m();const _e=Ie(((e,t,r,c,i,u)=>{const p=a("RequiredInput"),m=a("ErrorMessage"),h=a("router-link");return s(),l(v,null,[n("h4",we,d(u.t("products.addTitle")),1),n("form",{onSubmit:t[4]||(t[4]=P(((...e)=>c.onSubmit&&c.onSubmit(...e)),["prevent"]))},[n(p,{label:u.t("products.name"),placeholder:u.t("products.namePlaceholder"),modelValue:c.name,"onUpdate:modelValue":t[1]||(t[1]=e=>c.name=e),type:"text",onKeydown:t[2]||(t[2]=e=>c.errorMessage="")},null,8,["label","placeholder","modelValue"]),n(m,{errorMessage:c.errorMessage},null,8,["errorMessage"]),n("div",Pe,[n("label",Ve,d(u.t("products.description")),1),n("div",Ce,[I(n("textarea",{class:"textarea",placeholder:u.t("products.descriptionPlaceholder"),"onUpdate:modelValue":t[3]||(t[3]=e=>c.description=e)},null,8,["placeholder"]),[[w,c.description]])])]),n("div",Se,[n("div",Ue,[n("button",{type:"submit",class:"button is-info",style:{width:"100px"},disabled:!c.name},d(u.t("add")),9,["disabled"])]),n("div",Te,[n(h,{to:{name:"products"},class:"button is-link is-light",style:{width:"100px"}},{default:Ie((()=>[o(d(u.t("cancel")),1)])),_:1})])])],32)],64)}));xe.render=_e,xe.__scopeId="data-v-567bfe53";const Ee={props:["placeholder","modelValue","label"],emits:["update:modelValue"],setup(e,a){const{n:s,locale:l}=c(),n=t(null);V((()=>{n.value.value=s(parseFloat(e.modelValue||0),"currency")})),k(e,(()=>{const t=n.value.value.length,a=n.value.selectionStart,l=s(parseFloat(e.modelValue),"currency"),r=a+l.length-t;n.value.value=l,n.value.setSelectionRange(r,r)}));return{handleInput:e=>{let t=e.target.value;"vi"===l.value&&(t=t.replace(/\./g,""),t=t.replace(/,/g,".")),t=t.replace(/,/g,""),t=t.replace(/[^\d.]/g,""),a.emit("update:modelValue",t)},inputRef:n}}},Ne={class:"field"},Oe={key:0,class:"label"},De={class:"control"};Ee.render=function(e,t,a,r,o,c){return s(),l("div",Ne,[a.label?(s(),l("label",Oe,d(a.label),1)):b("",!0),n("div",De,[n("input",{ref:"inputRef",class:"input has-text-right",type:"text",placeholder:a.placeholder,onInput:t[1]||(t[1]=(...e)=>r.handleInput&&r.handleInput(...e)),required:""},null,40,["placeholder"])])])};const Le={components:{RequiredInput:ve,Currency:Ee},props:["unit"],inject:["t","n"],setup(e){const a=t(!1),s=t(e.unit.name),l=t(e.unit.price),n=u();return{isEditing:a,name:s,price:l,deactivate:()=>{n.dispatch("products/deactivateUnit",e.unit.id)},activate:()=>{n.dispatch("products/activateUnit",e.unit.id)},save:async()=>{s.value&&l.value&&(await n.dispatch("products/editUnit",{unitId:e.unit.id,payload:{name:s.value,price:l.value}}),a.value=!1)}}}},Me=g("data-v-23aee3a9");p("data-v-23aee3a9");const qe={class:"has-text-right"},Be={key:0,class:"v-align has-text-centered"},Re={key:1,class:"has-text-centered"},je={key:2,colspan:"2",class:"has-text-centered"},$e={key:3,class:"v-align"},Fe={key:4};m();const Ae=Me(((e,t,r,o,c,i)=>{const u=a("RequiredInput"),p=a("Currency");return s(),l("tr",null,[n("td",null,[o.isEditing?(s(),l(u,{key:0,type:"text",modelValue:o.name,"onUpdate:modelValue":t[1]||(t[1]=e=>o.name=e),placeholder:i.t("units.namePlaceholder")},null,8,["modelValue","placeholder"])):(s(),l("span",{key:1,class:{deleted:!r.unit.active}},d(r.unit.name),3))]),n("td",qe,[o.isEditing?(s(),l(p,{key:0,modelValue:o.price,"onUpdate:modelValue":t[2]||(t[2]=e=>o.price=e),placeholder:i.t("units.pricePlaceholder")},null,8,["modelValue","placeholder"])):(s(),l("span",{key:1,class:{deleted:!r.unit.active}},d(i.n(parseFloat(r.unit.price),"currency")),3))]),o.isEditing?(s(),l("td",Be,[n("button",{class:"button is-small is-info has-text-weight-medium",onClick:t[3]||(t[3]=(...e)=>o.save&&o.save(...e)),title:i.t("save")},"Lưu",8,["title"])])):r.unit.active?(s(),l("td",Re,[n("button",{class:"button is-small is-info has-text-weight-medium",onClick:t[4]||(t[4]=e=>o.isEditing=!0),title:i.t("edit")},"Sửa",8,["title"])])):(s(),l("td",je,[n("span",{onClick:t[5]||(t[5]=(...e)=>o.activate&&o.activate(...e)),class:"button is-small is-primary has-text-black has-text-weight-medium",title:i.t("recover")},"Phục hồi",8,["title"])])),o.isEditing?(s(),l("td",$e,[n("button",{onClick:t[6]||(t[6]=e=>o.isEditing=!1),class:"button is-small is-dark has-text-weight-medium",title:i.t("cancel")},"Hủy",8,["title"])])):r.unit.active?(s(),l("td",Fe,[n("button",{onClick:t[7]||(t[7]=(...e)=>o.deactivate&&o.deactivate(...e)),class:"button is-small is-danger has-text-weight-medium",title:i.t("delete")},"Xóa",8,["title"])])):b("",!0)])}));Le.render=Ae,Le.__scopeId="data-v-23aee3a9";const He=e=>e.trim().toLowerCase().split().map((e=>e[0].toUpperCase()+e.substr(1))).join(" ");const Ke={components:{RequiredInput:ve,Unit:Le,Currency:Ee},props:["productId","units"],inject:["t"],setup(e){const a=t(""),s=t(0),l=u();return{name:a,price:s,click:async()=>{await l.dispatch("products/addUnit",{product:e.productId,name:He(a.value),price:s.value}),a.value="",s.value=0}}}},ze=g("data-v-78bdb162");p("data-v-78bdb162");const Ge={class:"title is-5 has-text-centered"},Xe={class:"table is-bordered"},Qe={class:"has-text-centered"},Je={colspan:"2"},We={colspan:"2",class:"has-text-centered"};m();const Ye=ze(((e,t,r,o,c,i)=>{const u=a("Unit"),p=a("RequiredInput"),m=a("Currency");return s(),l(v,null,[n("h5",Ge,d(i.t("units.title")),1),n("table",Xe,[n("thead",null,[n("tr",Qe,[n("th",null,d(i.t("units.name")),1),n("th",null,d(i.t("units.price")),1),n("th",Je,d(i.t("units.action")),1)])]),n("tbody",null,[(s(!0),l(v,null,f(r.units,(e=>(s(),l(u,{key:e.id,unit:e},null,8,["unit"])))),128)),n("tr",null,[n("td",null,[n(p,{type:"text",placeholder:i.t("units.namePlaceholder"),modelValue:o.name,"onUpdate:modelValue":t[1]||(t[1]=e=>o.name=e)},null,8,["placeholder","modelValue"])]),n("td",null,[n(m,{modelValue:o.price,"onUpdate:modelValue":t[2]||(t[2]=e=>o.price=e),placeholder:i.t("units.pricePlaceholder")},null,8,["modelValue","placeholder"])]),n("td",We,[n("button",{disabled:!o.name||!o.price,onClick:t[3]||(t[3]=(...e)=>o.click&&o.click(...e)),class:"button is-info"},d(i.t("add")),9,["disabled"])])])])])],64)}));Ke.render=Ye,Ke.__scopeId="data-v-78bdb162";const Ze={components:{Units:Ke,RequiredInput:ve},inject:["t"],setup(){const e=C(),a=u(),s=t(!1),l=t(""),n=t(""),r=x("websiteTitle");i((async()=>{await a.dispatch("products/fetchProduct",e.params.id);const t=He(l.value);document.title=`${t} - ${r}`}));const o=h((()=>a.getters["products/product"]));k(o,(()=>{l.value=o.value.name,n.value=o.value.description}));const d=h((()=>{var e;return(null==(e=o.value)?void 0:e.active)?"":"deleted"}));return{product:o,isEditing:s,name:l,description:n,save:async()=>{l.value&&(await a.dispatch("products/editProduct",{name:l.value.trim().toLowerCase(),description:n.value}),s.value=!1)},activate:async()=>{await a.dispatch("products/activateProduct")},deactivate:async()=>{await a.dispatch("products/deactivateProduct")},deleted:d}}},et=g("data-v-7d251d22");p("data-v-7d251d22");const tt={class:"title is-3 has-text-centered"},at={class:"table is-bordered"},st={class:"has-text-centered"},lt={key:0,class:"control"},nt={key:0,class:"has-text-centered button-group"},rt={key:1,class:"has-text-centered button-group"},ot={key:2,class:"has-text-centered button-group"};m();const dt=et(((e,t,r,o,c,i)=>{var u,p,m,h,f,g;const y=a("RequiredInput"),k=a("Units");return s(),l(v,null,[n("h3",tt,d(i.t("products.detailTitle")),1),n("table",at,[n("tbody",null,[n("tr",null,[n("th",null,d(i.t("products.name")),1),n("td",st,[o.isEditing?(s(),l(y,{key:0,type:"text",modelValue:o.name,"onUpdate:modelValue":t[1]||(t[1]=e=>o.name=e),placeholder:i.t("products.namePlaceholder")},null,8,["modelValue","placeholder"])):(s(),l("strong",{key:1,class:["is-capitalized",o.deleted]},d(null==(u=o.product)?void 0:u.name),3))])]),n("tr",null,[n("th",null,d(i.t("products.description")),1),n("td",null,[o.isEditing?(s(),l("div",lt,[I(n("textarea",{class:"textarea",placeholder:i.t("products.descriptionPlaceholder"),"onUpdate:modelValue":t[2]||(t[2]=e=>o.description=e)},null,8,["placeholder"]),[[w,o.description]])])):(s(),l("span",{key:1,class:o.deleted},d(null==(p=o.product)?void 0:p.description),3))])])])]),(null==(m=o.product)?void 0:m.active)?o.isEditing?(s(),l("div",rt,[n("button",{onClick:t[4]||(t[4]=(...e)=>o.save&&o.save(...e)),class:"button is-info mx-5"},d(i.t("save")),1),n("button",{onClick:t[5]||(t[5]=e=>o.isEditing=!1),class:"button mx-5"},d(i.t("cancel")),1)])):(s(),l("div",ot,[n("button",{onClick:t[6]||(t[6]=e=>o.isEditing=!0),class:"button is-info mx-5"},d(i.t("edit")),1),n("button",{onClick:t[7]||(t[7]=(...e)=>o.deactivate&&o.deactivate(...e)),class:"button is-danger mx-5"},d(i.t("delete")),1)])):(s(),l("div",nt,[n("button",{onClick:t[3]||(t[3]=(...e)=>o.activate&&o.activate(...e)),class:"button is-info"},d(i.t("recover")),1)])),(null==(h=o.product)?void 0:h.active)?(s(),l(k,{key:3,productId:null==(f=o.product)?void 0:f.id,units:null==(g=o.product)?void 0:g.units},null,8,["productId","units"])):b("",!0)],64)}));Ze.render=dt,Ze.__scopeId="data-v-7d251d22";var ct=[{path:"/",name:"home",component:pe},{path:"/products",name:"products",component:pe},{path:"/products/add",name:"product-add",component:xe},{path:"/products/:id",name:"product-detail",component:Ze}];const it={props:["customer"],inject:["n"]},ut=g("data-v-45c66e27");p("data-v-45c66e27");const pt={class:"is-capitalized"},mt={class:"has-text-center"},ht={class:"ellipsis"},vt={class:"has-text-right"};m();const ft=ut(((e,t,r,o,c,i)=>{const u=a("router-link");return s(),l("tr",null,[n("td",null,[n(u,{to:{name:"customer-detail",params:{id:r.customer.id}}},{default:ut((()=>[n("span",pt,d(r.customer.name),1)])),_:1},8,["to"])]),n("td",mt,[n("span",null,d(r.customer.phone),1)]),n("td",ht,[n("span",null,d(r.customer.address),1)]),n("td",vt,d(i.n(parseFloat(r.customer.debt),"currency")),1)])}));it.render=ft,it.__scopeId="data-v-45c66e27";const gt={components:{CustomerRow:it},inject:["t"],setup(){const e=u();i((()=>{e.dispatch("customers/fetchCustomers")}));return{customers:h((()=>e.getters["customers/customers"]))}}},bt={class:"title is-4 has-text-centered mt-2"},yt={class:"table is-bordered mb-5"},kt={class:"has-text-centered"},xt={style:{width:"110px"}},It={style:{width:"130px"}};gt.render=function(e,t,r,o,c,i){const u=a("CustomerRow");return s(),l(v,null,[n("h4",bt,d(i.t("customers.list")),1),n("table",yt,[n("thead",null,[n("tr",kt,[n("th",null,d(i.t("customers.table.customer")),1),n("th",xt,d(i.t("customers.table.phone")),1),n("th",null,d(i.t("customers.table.address")),1),n("th",It,d(i.t("customers.table.debt")),1)])]),n("tbody",null,[(s(!0),l(v,null,f(o.customers,(e=>(s(),l(u,{key:e.id,customer:e},null,8,["customer"])))),128))])])],64)};const wt={components:{ListSearch:oe}};wt.render=function(e,t,n,r,o,d){const c=a("ListSearch");return s(),l(c,{placeholder:"customers.searchPlaceholder",actionName:"customers/fetchCustomers"})};const Pt={components:{CustomerList:gt,CustomerSearch:wt},inject:["t","websiteTitle"],created(){document.title="Khách Hàng - "+this.websiteTitle}},Vt={class:"table-page"},Ct={class:"has-text-right"};Pt.render=function(e,t,c,i,u,p){const m=a("router-link"),h=a("CustomerSearch"),v=a("CustomerList");return s(),l("div",Vt,[n("div",Ct,[n(m,{to:{name:"customer-add"},class:"button is-info is-outlined"},{default:r((()=>[o(d(p.t("customers.addButton")),1)])),_:1})]),n(h),n(v)])};const St={props:["order"],inject:["t","n"],setup(e){const t=h((()=>parseFloat(e.order.subtotal)));return{total:h((()=>t.value+parseFloat(e.order.debt)))}}},Ut={class:"is-capitalized"},Tt={class:"has-text-centered"},_t={class:"has-text-right"},Et={class:"has-text-right"},Nt={class:"has-text-centered"};St.render=function(e,t,o,c,i,u){const p=a("router-link");return s(),l("tr",null,[n("td",null,[n(p,{to:{name:"order-detail",params:{id:o.order.id}}},{default:r((()=>[n("span",Ut,d(o.order.customer_name),1)])),_:1},8,["to"])]),n("td",Tt,[n("span",null,d(new Date(o.order.created_at).toLocaleDateString()),1)]),n("td",_t,[n("span",null,d(u.n(c.total,"currency")),1)]),n("td",Et,[n("span",null,d(u.n(parseFloat(o.order.payment),"currency")),1)]),n("td",Nt,d(u.t(`orders.status.${o.order.status}`)),1)])};const Ot={components:{OrderRow:St},inject:["t"],setup(){const e=u();return{orders:h((()=>e.getters["orders/orders"]))}}},Dt={class:"title is-4 has-text-centered mt-2"},Lt={class:"table is-bordered mb-5"},Mt={class:"has-text-centered"},qt={style:{width:"130px"}},Bt={style:{width:"130px"}};Ot.render=function(e,t,r,o,c,i){const u=a("OrderRow");return s(),l(v,null,[n("h4",Dt,d(i.t("orders.list")),1),n("table",Lt,[n("thead",null,[n("tr",Mt,[n("th",null,d(i.t("customers.table.customer")),1),n("th",null,d(i.t("orders.table.date")),1),n("th",qt,d(i.t("orders.table.total")),1),n("th",Bt,d(i.t("orders.table.payment")),1),n("th",null,d(i.t("orders.table.status")),1)])]),n("tbody",null,[(s(!0),l(v,null,f(o.orders,(e=>(s(),l(u,{key:e.id,order:e},null,8,["order"])))),128))])])],64)};const Rt={components:{Units:Ke,RequiredInput:ve,UnrequiredInput:ae,OrderList:Ot},inject:["t","n"],setup(){const e=C(),a=u(),s=t(!1),l=t(""),n=t(""),r=t(""),o=t(""),d=x("websiteTitle");i((async()=>{await a.dispatch("customers/fetchCustomer",e.params.id),await a.dispatch("orders/fetchOrders",{customer:a.getters["customers/customerName"]});const t=He(l.value);document.title=`${t} - ${d}`}));const c=h((()=>a.getters["customers/customer"]));k(c,(()=>{l.value=c.value.name,n.value=c.value.phone,r.value=c.value.address,o.value=c.value.description}));return{customer:c,isEditing:s,name:l,phone:n,address:r,description:o,save:async()=>{await a.dispatch("customers/editCustomer",{name:l.value.trim().toLowerCase(),phone:n.value,address:r.value,description:o.value}),s.value=!1},addOrder:()=>{a.dispatch("orders/addOrder",{customer:a.getters["customers/customerId"]})}}}},jt=g("data-v-4a35863a");p("data-v-4a35863a");const $t={class:"title is-3 has-text-centered"},Ft={class:"table is-bordered"},At={class:"has-text-centered"},Ht={key:1,class:"is-capitalized"},Kt={class:"has-text-centered"},zt={key:1},Gt={key:1},Xt={key:0,class:"control"},Qt={key:1},Jt={key:0},Wt={class:"has-text-centered"},Yt={key:0,class:"has-text-centered button-group"},Zt={key:1,class:"has-text-centered button-group"};m();const ea=jt(((e,t,r,o,c,i)=>{var u,p,m,h,f;const g=a("RequiredInput"),y=a("UnrequiredInput"),k=a("OrderList");return s(),l(v,null,[n("h3",$t,d(i.t("customers.detailTitle")),1),n("table",Ft,[n("tbody",null,[n("tr",null,[n("th",null,d(i.t("customers.table.customer")),1),n("td",At,[o.isEditing?(s(),l(g,{key:0,type:"text",modelValue:o.name,"onUpdate:modelValue":t[1]||(t[1]=e=>o.name=e),placeholder:i.t("customers.namePlaceholder")},null,8,["modelValue","placeholder"])):(s(),l("strong",Ht,d(null==(u=o.customer)?void 0:u.name),1))])]),n("tr",null,[n("th",null,d(i.t("customers.table.phone")),1),n("td",Kt,[o.isEditing?(s(),l(y,{key:0,type:"text",modelValue:o.phone,"onUpdate:modelValue":t[2]||(t[2]=e=>o.phone=e),placeholder:i.t("customers.phonePlaceholder")},null,8,["modelValue","placeholder"])):(s(),l("strong",zt,d(null==(p=o.customer)?void 0:p.phone),1))])]),n("tr",null,[n("th",null,d(i.t("customers.table.address")),1),n("td",null,[o.isEditing?(s(),l(y,{key:0,type:"text",modelValue:o.address,"onUpdate:modelValue":t[3]||(t[3]=e=>o.address=e),placeholder:i.t("customers.addressPlaceholder")},null,8,["modelValue","placeholder"])):(s(),l("span",Gt,d(null==(m=o.customer)?void 0:m.address),1))])]),n("tr",null,[n("th",null,d(i.t("customers.description")),1),n("td",null,[o.isEditing?(s(),l("div",Xt,[I(n("textarea",{class:"textarea",placeholder:i.t("customers.descriptionPlaceholder"),"onUpdate:modelValue":t[4]||(t[4]=e=>o.description=e)},null,8,["placeholder"]),[[w,o.description]])])):(s(),l("span",Qt,d(null==(h=o.customer)?void 0:h.description),1))])]),o.isEditing?b("",!0):(s(),l("tr",Jt,[n("th",null,d(i.t("customers.table.debt")),1),n("td",Wt,[n("strong",null,d(i.n(parseFloat((null==(f=o.customer)?void 0:f.debt)||0),"currency")),1)])]))])]),o.isEditing?(s(),l("div",Yt,[n("button",{onClick:t[5]||(t[5]=(...e)=>o.save&&o.save(...e)),disabled:!o.name,class:"button is-info mx-5"},d(i.t("save")),9,["disabled"]),n("button",{onClick:t[6]||(t[6]=e=>o.isEditing=!1),class:"button mx-5"},d(i.t("cancel")),1)])):(s(),l("div",Zt,[n("button",{onClick:t[7]||(t[7]=e=>o.isEditing=!0),class:"button is-info mx-5"},d(i.t("edit")),1),n("button",{onClick:t[8]||(t[8]=(...e)=>o.addOrder&&o.addOrder(...e)),class:"button is-info mx-5"},d(i.t("orders.addButton")),1)])),n(k)],64)}));Rt.render=ea,Rt.__scopeId="data-v-4a35863a";const ta={props:["errorMessage"]},aa={key:0,class:"notification is-danger has-background-danger"};ta.render=function(e,t,a,n,r,o){return a.errorMessage?(s(),l("p",aa,d(a.errorMessage),1)):b("",!0)};const sa={components:{RequiredInput:ve,UnrequiredInput:ae,Currency:Ee,ErrorMessage:ta},inject:["t"],setup(){const e=t(""),a=t(""),s=t(""),l=t(""),n=t(0),r=u(),o=t("");return{name:e,phone:a,address:s,description:l,debt:n,errorMessage:o,onSubmit:async()=>{try{await r.dispatch("customers/addCustomer",{name:e.value.trim().toLowerCase(),phone:a.value,address:s.value,description:l.value,debt:n.value})}catch(t){t.response.data.name&&(o.value="Khách Hàng đã tồn tại")}}}}},la=g("data-v-7c75c6b4");p("data-v-7c75c6b4");const na={class:"title is-4 has-text-centered"},ra={class:"field"},oa={class:"label"},da={class:"control"},ca={class:"field is-grouped is-grouped-centered"},ia={class:"control"},ua={class:"control"};m();const pa=la(((e,t,r,c,i,u)=>{const p=a("RequiredInput"),m=a("ErrorMessage"),h=a("UnrequiredInput"),f=a("Currency"),g=a("router-link");return s(),l(v,null,[n("h4",na,d(u.t("customers.addTitle")),1),n("form",{onSubmit:t[7]||(t[7]=P(((...e)=>c.onSubmit&&c.onSubmit(...e)),["prevent"]))},[n(p,{label:u.t("customers.table.customer"),placeholder:u.t("customers.namePlaceholder"),modelValue:c.name,"onUpdate:modelValue":t[1]||(t[1]=e=>c.name=e),isName:"",type:"text",onKeydown:t[2]||(t[2]=e=>c.errorMessage="")},null,8,["label","placeholder","modelValue"]),n(m,{errorMessage:c.errorMessage},null,8,["errorMessage"]),n(h,{type:"text",label:u.t("customers.table.phone"),placeholder:u.t("customers.phonePlaceholder"),modelValue:c.phone,"onUpdate:modelValue":t[3]||(t[3]=e=>c.phone=e)},null,8,["label","placeholder","modelValue"]),n(h,{type:"text",label:u.t("customers.table.address"),placeholder:u.t("customers.addressPlaceholder"),modelValue:c.address,"onUpdate:modelValue":t[4]||(t[4]=e=>c.address=e)},null,8,["label","placeholder","modelValue"]),n("div",ra,[n("label",oa,d(u.t("customers.description")),1),n("div",da,[I(n("textarea",{class:"textarea",placeholder:u.t("customers.descriptionPlaceholder"),"onUpdate:modelValue":t[5]||(t[5]=e=>c.description=e)},null,8,["placeholder"]),[[w,c.description]])])]),n(f,{modelValue:c.debt,"onUpdate:modelValue":t[6]||(t[6]=e=>c.debt=e),label:u.t("customers.table.debt"),placeholder:u.t("customers.table.debt")},null,8,["modelValue","label","placeholder"]),n("div",ca,[n("div",ia,[n("button",{type:"submit",class:"button is-info",style:{width:"100px"},disabled:!c.name},d(u.t("add")),9,["disabled"])]),n("div",ua,[n(g,{to:{name:"customers"},class:"button is-link is-light",style:{width:"100px"}},{default:la((()=>[o(d(u.t("cancel")),1)])),_:1})])])],32)],64)}));sa.render=pa,sa.__scopeId="data-v-7c75c6b4";var ma=[{path:"/customers",name:"customers",component:Pt},{path:"/customers/add",name:"customer-add",component:sa},{path:"/customers/:id",name:"customer-detail",component:Rt}];const ha={components:{ListSearch:oe}};ha.render=function(e,t,n,r,o,d){const c=a("ListSearch");return s(),l(c,{placeholder:"orders.searchPlaceholder",actionName:"orders/fetchOrders",paramName:"customer"})};const va={components:{OrderList:Ot,OrderSearch:ha},inject:["t","websiteTitle"],created(){document.title="Đơn Hàng - "+this.websiteTitle},setup(){const e=u();i((()=>{e.dispatch("orders/fetchOrders")}))}},fa={class:"table-page"},ga={class:"has-text-right"};va.render=function(e,t,c,i,u,p){const m=a("router-link"),h=a("OrderSearch"),v=a("OrderList");return s(),l("div",fa,[n("div",ga,[n(m,{to:{name:"order-add"},class:"button is-info is-outlined"},{default:r((()=>[o(d(p.t("orders.addButton")),1)])),_:1})]),n(h),n(v)])};const ba={components:{DebounceInput:re},props:["label","placeholder","modelValue","getter","action","initial","paramName"],emits:["update:modelValue"],setup(e,a){const s=t(!1),l=t(!1),n=u(),r=t("");k(r,(()=>{n.dispatch(e.action,{[e.paramName]:r.value})})),i((()=>{n.dispatch(e.action),setTimeout((()=>{e.initial&&d(e.initial)}),300)}));const o=h((()=>n.getters[e.getter])),d=e=>{const t=o.value.find((t=>e===t.id||t.name.toLowerCase()===r.value.toLowerCase()));t?(r.value=t.name,s.value=!1,a.emit("update:modelValue",t.id)):(s.value=!0,a.emit("update:modelValue",null))};return{invalid:s,suggestions:o,isFocusing:l,focus:()=>{s.value=!1,l.value=!0},blur:()=>{""===r.value&&(s.value=!0),l.value&&(d(null),l.value=!1)},value:r,click:e=>{d(e),l.value=!1}}}},ya=g("data-v-51b3d95a");p("data-v-51b3d95a");const ka={class:"suggestion-wrapper"},xa={key:0,class:"suggestions"};m();const Ia=ya(((e,t,r,o,c,i)=>{const u=a("debounce-input");return s(),l("div",ka,[n(u,{label:r.label,placeholder:r.placeholder,type:"text",modelValue:o.value,"onUpdate:modelValue":t[1]||(t[1]=e=>o.value=e),focus:o.focus,blur:o.blur},null,8,["label","placeholder","modelValue","focus","blur"]),o.isFocusing?(s(),l("div",xa,[n("div",null,[(s(!0),l(v,null,f(o.suggestions,(e=>(s(),l("strong",{class:"suggestion is-capitalized",key:e.id,onClick:P((t=>o.click(e.id,e.name)),["stop"])},d(e.name),9,["onClick"])))),128))])])):b("",!0)])}));ba.render=Ia,ba.__scopeId="data-v-51b3d95a";const wa={props:["title"],emits:["close"],setup:(e,t)=>({close:()=>{t.emit("close")}})},Pa=g("data-v-fd5feb1e");p("data-v-fd5feb1e");const Va={class:"modal is-active"},Ca={class:"modal-content"},Sa={class:"box"},Ua={class:"control has-icons-right"},Ta={class:"title is-4 has-text-centered"},_a=n("i",{class:"fas fa-times-circle"},null,-1),Ea=n("hr",{class:"mb-3"},null,-1);m();const Na=Pa(((e,t,a,r,o,c)=>(s(),l(U,{to:"body"},[n("div",Va,[n("div",{class:"modal-background",onClick:t[1]||(t[1]=(...e)=>r.close&&r.close(...e))}),n("div",Ca,[n("div",Sa,[n("div",Ua,[n("h4",Ta,d(a.title),1),n("span",{class:"icon is-small is-right",onClick:t[2]||(t[2]=(...e)=>r.close&&r.close(...e))},[_a])]),Ea,S(e.$slots,"default")])])])]))));wa.render=Na,wa.__scopeId="data-v-fd5feb1e";const Oa={props:["title","detail"],emits:["save","close"],components:{RequiredInput:ve,UnrequiredInput:ae,Suggestion:ba,BaseModal:wa,Currency:Ee},inject:["t"],setup(e,a){var s,l,n,r,o;const d=u(),c=t(null==(s=e.detail)?void 0:s.product_id),i=t(null==(l=e.detail)?void 0:l.unit),p=t(null==(n=e.detail)?void 0:n.quantity),m=t((null==(r=e.detail)?void 0:r.price)||0),v=t((null==(o=e.detail)?void 0:o.ready)||!1),f=x("n"),g=h((()=>{if(c.value){const e=d.getters["products/products"].find((e=>e.id===c.value));if(e)return e.units}return[]}));k(g,(()=>{var e,t;1===(null==(e=g.value)?void 0:e.length)?i.value=g.value[0].id:(null==(t=g.value)?void 0:t.length)>1?void 0===g.value.find((e=>e.id===i.value))&&(i.value=0):i.value=0})),k(i,(()=>{var e;if(i.value>0){const t=null==(e=g.value)?void 0:e.find((e=>e.id===i.value));m.value=t?t.price:0}else m.value=0}));const b=h((()=>m.value&&p.value>0?f(m.value*p.value,"currency"):f(0,"currency"))),y=h((()=>!(i.value>0&&p.value>0&&m.value>0)));return{product:c,unit:i,price:m,quantity:p,cost:b,ready:v,isInvalid:y,units:g,save:()=>{a.emit("save",{unit:i.value,quantity:p.value,price:m.value,ready:v.value})},close:()=>{a.emit("close")}}}},Da=g("data-v-3b717ea6");p("data-v-3b717ea6");const La={class:"table is-bordered"},Ma={style:{"max-width":"330px"}},qa={value:0},Ba={key:1},Ra={class:"has-text-right pr-5"},ja={class:"has-text-centered"},$a={class:"field is-grouped is-justify-content-center"},Fa={class:"control"},Aa={class:"control"};m();const Ha=Da(((e,t,r,o,c,i)=>{const u=a("Suggestion"),p=a("Currency"),m=a("RequiredInput"),h=a("BaseModal");return s(),l(h,{title:r.title,onClose:o.close},{default:Da((()=>[n("form",{onSubmit:t[7]||(t[7]=P(((...e)=>o.save&&o.save(...e)),["prevent"]))},[n("table",La,[n("tbody",null,[n("tr",null,[n("th",null,d(i.t("products.table.product")),1),n("td",Ma,[n(u,{placeholder:i.t("products.namePlaceholder"),action:"products/fetchProducts",getter:"products/products",modelValue:o.product,"onUpdate:modelValue":t[1]||(t[1]=e=>o.product=e),initial:o.product,paramName:"name"},null,8,["placeholder","modelValue","initial"])])]),n("tr",null,[n("th",null,d(i.t("products.table.unit")),1),n("td",null,[o.units.length>1?(s(),l("div",{key:0,class:["select is-success",{"is-danger":0===o.unit}]},[I(n("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.unit=e)},[n("option",qa,d(i.t("orders.details.select")),1),(s(!0),l(v,null,f(o.units,(e=>(s(),l("option",{key:e.id,value:e.id},d(e.name),9,["value"])))),128))],512),[[T,o.unit]])],2)):o.units.length>0?(s(),l("span",Ba,d(o.units[0].name),1)):b("",!0)])]),n("tr",null,[n("th",null,d(i.t("products.table.price")),1),n("td",null,[n(p,{modelValue:o.price,"onUpdate:modelValue":t[3]||(t[3]=e=>o.price=e),placeholder:i.t("units.pricePlaceholder")},null,8,["modelValue","placeholder"])])]),n("tr",null,[n("th",null,d(i.t("orders.details.quantity")),1),n("td",null,[n(m,{type:"number",placeholder:i.t("orders.quantityPlaceholder"),modelValue:o.quantity,"onUpdate:modelValue":t[4]||(t[4]=e=>o.quantity=e)},null,8,["placeholder","modelValue"])])]),n("tr",null,[n("th",null,d(i.t("orders.details.cost")),1),n("td",Ra,d(o.cost),1)]),n("tr",null,[n("th",null,d(i.t("orders.details.ready")),1),n("td",ja,[I(n("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=e=>o.ready=e)},null,512),[[_,o.ready]])])])])]),n("div",$a,[n("div",Fa,[n("button",{type:"submit",disabled:o.isInvalid,class:"button is-link"},d(i.t("save")),9,["disabled"])]),n("div",Aa,[n("button",{type:"button",onClick:t[6]||(t[6]=P(((...e)=>o.close&&o.close(...e)),["stop"])),class:"button is-link is-light"},d(i.t("cancel")),1)])])],32)])),_:1},8,["title","onClose"])}));Oa.render=Ha,Oa.__scopeId="data-v-3b717ea6";const Ka={components:{OrderDetailModal:Oa},props:["detail"],inject:["t","n"],setup(e){const a=t(!1),s=u();return{showEdit:a,toggleEdit:()=>{a.value=!a.value},edit:async t=>{await s.dispatch("orders/editDetail",{id:e.detail.id,payload:t}),a.value=!1}}}},za=g("data-v-52fe440f");p("data-v-52fe440f");const Ga=n("i",{class:"fas fa-check"},null,-1),Xa={class:"is-capitalized"},Qa={class:"has-text-centered"},Ja={class:"has-text-right hide-on-small"},Wa={class:"has-text-right"},Ya={class:"has-text-right"},Za={class:"has-text-centered has-text-info"};m();const es=za(((e,t,r,o,c,i)=>{const u=a("OrderDetailModal");return s(),l(v,null,[n("tr",null,[n("td",null,[r.detail.ready?(s(),l("span",{key:0,class:"icon has-text-primary",title:i.t("orders.details.ready")},[Ga],8,["title"])):b("",!0),n("span",Xa,d(r.detail.product_name),1)]),n("td",Qa,[n("span",null,d(r.detail.unit_name),1)]),n("td",Ja,d(i.n(parseFloat(r.detail.price||0),"currency")),1),n("td",Wa,d(r.detail.quantity),1),n("td",Ya,d(i.n(r.detail.cost,"currency")),1),n("td",Za,[n("button",{title:i.t("edit"),onClick:t[1]||(t[1]=(...e)=>o.toggleEdit&&o.toggleEdit(...e)),class:"button is-small is-info has-text-weight-medium"}," Sửa ",8,["title"])])]),o.showEdit?(s(),l(u,{key:0,title:i.t("orders.details.editTitle"),detail:r.detail,onClose:o.toggleEdit,onSave:o.edit},null,8,["title","detail","onClose","onSave"])):b("",!0)],64)}));Ka.render=es,Ka.__scopeId="data-v-52fe440f";const ts={components:{RequiredInput:ve,OrderDetail:Ka,OrderDetailModal:Oa},props:["orderId","details"],inject:["t"],setup(a){const s=t(""),l=t(0),n=t(!1),r=u();return{name:s,price:l,showAdd:n,toggleAdd:()=>{n.value=!n.value},click:async()=>{await r.dispatch("products/addOrderDetail",{product:a.productId,name:s.value,price:l.value}),s.value="",l.value=0},addDetail:async t=>{await r.dispatch("orders/addDetail",e({order:a.orderId},t)),n.value=!1}}}},as=g("data-v-00e8d86c");p("data-v-00e8d86c");const ss={class:"title is-5 has-text-centered"},ls={class:"table is-bordered"},ns={class:"has-text-centered"},rs={class:"hide-on-small"},os={style:{width:"50px"}},ds={class:"has-text-centered has-text-primary is-size-2"},cs=n("i",{class:"fas fa-plus-circle"},null,-1);m();const is=as(((e,t,r,o,c,i)=>{const u=a("OrderDetail"),p=a("OrderDetailModal");return s(),l(v,null,[n("h5",ss,d(i.t("orders.details.title")),1),n("table",ls,[n("thead",null,[n("tr",ns,[n("th",null,d(i.t("products.name")),1),n("th",null,d(i.t("products.table.unit")),1),n("th",rs,d(i.t("products.table.price")),1),n("th",null,d(i.t("orders.details.quantity")),1),n("th",null,d(i.t("orders.details.cost")),1),n("th",os,d(i.t("orders.details.edit")),1)])]),n("tbody",null,[(s(!0),l(v,null,f(r.details,(e=>(s(),l(u,{key:e.id,detail:e},null,8,["detail"])))),128))])]),n("div",ds,[n("span",{onClick:t[1]||(t[1]=(...e)=>o.toggleAdd&&o.toggleAdd(...e)),title:i.t("orders.details.add"),class:"icon"},[cs],8,["title"])]),o.showAdd?(s(),l(p,{key:0,title:i.t("orders.details.add"),onClose:o.toggleAdd,onSave:o.addDetail},null,8,["title","onClose","onSave"])):b("",!0)],64)}));ts.render=is,ts.__scopeId="data-v-00e8d86c";const us={emits:["close"],inject:["t"],props:["orderId"],components:{BaseModal:wa,Currency:Ee},setup({orderId:e},a){const s=u(),l=t(0),n=t(0),r=()=>{a.emit("close")},o=h((()=>s.getters["staff/activeStaff"]));V((async()=>{await s.dispatch("staff/fetchStaff")}));const d=h((()=>parseInt(l.value)<=0||!n.value));return{save:async()=>{await s.dispatch("orders/pay",{amount:l.value,order:e,staff:n.value}),r()},close:r,amount:l,staff:o,staffId:n,isInvalid:d}}},ps=g("data-v-fcc43446");p("data-v-fcc43446");const ms={class:"table is-bordered"},hs=n("th",null,"Người Nhận",-1),vs=n("option",{value:0},"Chọn người nhận",-1),fs={class:"field is-grouped is-justify-content-center"},gs={class:"control"},bs={class:"control"};m();const ys=ps(((e,t,r,o,c,i)=>{const u=a("Currency"),p=a("BaseModal");return s(),l(p,{title:i.t("orders.payment.title"),onClose:o.close},{default:ps((()=>[n("form",{onSubmit:t[4]||(t[4]=P(((...e)=>o.save&&o.save(...e)),["prevent"]))},[n("table",ms,[n("tbody",null,[n("tr",null,[n("th",null,d(i.t("orders.payment.payment")),1),n("td",null,[n(u,{placeholder:i.t("orders.paymentPlaceholder"),modelValue:o.amount,"onUpdate:modelValue":t[1]||(t[1]=e=>o.amount=e)},null,8,["placeholder","modelValue"])])]),n("tr",null,[hs,n("td",null,[n("div",{class:["select is-success",{"is-danger":0===o.staffId}]},[I(n("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.staffId=e)},[vs,(s(!0),l(v,null,f(o.staff,(e=>(s(),l("option",{key:e.id,value:e.id},d(e.name),9,["value"])))),128))],512),[[T,o.staffId]])],2)])])])]),n("div",fs,[n("div",gs,[n("button",{type:"submit",disabled:o.isInvalid,class:"button is-link"},d(i.t("save")),9,["disabled"])]),n("div",bs,[n("button",{type:"button",onClick:t[3]||(t[3]=P(((...e)=>o.close&&o.close(...e)),["stop"])),class:"button is-link is-light"},d(i.t("cancel")),1)])])],32)])),_:1},8,["title","onClose"])}));us.render=ys,us.__scopeId="data-v-fcc43446";const ks={emits:["close"],inject:["t"],props:["address","phone"],components:{BaseModal:wa},setup:(e,t)=>({close:()=>{t.emit("close")}})},xs=g("data-v-63baf442");p("data-v-63baf442");const Is={class:"table is-bordered"},ws={class:"has-text-centered"};m();const Ps=xs(((e,t,r,o,c,i)=>{const u=a("BaseModal");return s(),l(u,{title:"Thông tin khách hàng",onClose:o.close},{default:xs((()=>[n("table",Is,[n("tbody",null,[n("tr",null,[n("th",null,d(i.t("customers.table.phone")),1),n("td",ws,[n("strong",null,d(r.phone),1)])]),n("tr",null,[n("th",null,d(i.t("customers.table.address")),1),n("td",null,[n("span",null,d(r.address),1)])])])])])),_:1},8,["onClose"])}));ks.render=Ps,ks.__scopeId="data-v-63baf442";const Vs={emits:["close"],inject:["n"],components:{BaseModal:wa},setup(e,t){const a=u();return{close:()=>{t.emit("close")},payments:h((()=>a.getters["orders/payments"]))}}},Cs=g("data-v-724f1036");p("data-v-724f1036");const Ss={class:"table is-bordered"},Us=n("thead",null,[n("tr",{class:"has-text-centered"},[n("th",null,"Ngày"),n("th",null,"Tên Người Nhận"),n("th",null,"Số Tiền")])],-1);m();const Ts=Cs(((e,t,r,o,c,i)=>{const u=a("BaseModal");return s(),l(u,{title:"Thông tin thanh toán",onClose:o.close},{default:Cs((()=>[n("table",Ss,[Us,n("tbody",null,[(s(!0),l(v,null,f(o.payments,(e=>(s(),l("tr",{key:e.id},[n("td",null,d(e.created_at),1),n("td",null,d(e.staff_name),1),n("td",null,[n("strong",null,d(i.n(parseFloat(e.amount||0),"currency")),1)])])))),128))])])])),_:1},8,["onClose"])}));Vs.render=Ts,Vs.__scopeId="data-v-724f1036";const _s={components:{OrderDetails:ts,RequiredInput:ve,UnrequiredInput:ae,PaymentModal:us,CustomerInfoModal:ks,PaymentInfoModal:Vs},inject:["t","n"],setup(){const e=C(),a=u(),s=t(!1),l=t(!1),n=t(!1),r=x("websiteTitle"),o=h((()=>a.getters["orders/order"])),d=h((()=>a.getters["orders/customer"])),c=h((()=>a.getters["orders/subtotal"])),p=h((()=>o.value?parseFloat(o.value.debt)+c.value:0));i((()=>{a.dispatch("orders/fetchOrder",e.params.id),a.dispatch("orders/fetchPayments",e.params.id)})),k(d,(()=>{const e=He(d.value.name);document.title=`${e} - ${r}`}));const m=h((()=>o.value?p.value-parseFloat(o.value.payment):0)),v=h((()=>{var e,t;return!!(null==(e=d.value)?void 0:e.address)||!!(null==(t=d.value)?void 0:t.phone)})),f=h((()=>a.getters["orders/hasPayment"]));return{order:o,customer:d,subtotal:c,total:p,remain:m,showPayment:s,showInfo:l,showPaymentInfo:n,togglePayment:()=>{s.value=!s.value},toggleInfo:()=>{l.value=!l.value},togglePaymentInfo:()=>{n.value=!n.value},hasInfo:v,hasPaymentInfo:f}}},Es=g("data-v-461d98f8");p("data-v-461d98f8");const Ns={class:"title is-3 has-text-centered"},Os={class:"table is-bordered"},Ds={class:"has-text-centered is-capitalized control has-icons-right"},Ls=n("i",{class:"fas fa-info-circle"},null,-1),Ms={class:"has-text-centered"},qs={class:"has-text-centered"},Bs={class:"has-text-centered"},Rs={class:"has-text-centered control has-icons-right"},js=n("i",{class:"fas fa-info-circle"},null,-1),$s={class:"has-text-centered"},Fs={class:"has-text-centered"},As={key:0},Hs={class:"has-text-centered mb-5 pb-4"};m();const Ks=Es(((e,t,r,c,i,u)=>{var p,m,h,f,g;const y=a("router-link"),k=a("OrderDetails"),x=a("PaymentModal"),I=a("CustomerInfoModal"),w=a("PaymentInfoModal");return s(),l(v,null,[n("h3",Ns,d(u.t("orders.detailTitle")),1),n("table",Os,[n("tbody",null,[n("tr",null,[n("th",null,d(u.t("customers.table.customer")),1),n("td",Ds,[n(y,{to:{name:"customer-detail",params:{id:null==(p=c.customer)?void 0:p.id}}},{default:Es((()=>{var e;return[o(d(null==(e=c.customer)?void 0:e.name),1)]})),_:1},8,["to"]),c.hasInfo?(s(),l("span",{key:0,onClick:t[1]||(t[1]=(...e)=>c.toggleInfo&&c.toggleInfo(...e)),class:"icon is-small is-right has-text-info clickable-icon"},[Ls])):b("",!0)])]),n("tr",null,[n("th",null,d(u.t("customers.table.debt")),1),n("td",Ms,[n("strong",null,d(u.n(parseFloat((null==(m=c.order)?void 0:m.debt)||0),"currency")),1)])]),n("tr",null,[n("th",null,d(u.t("orders.table.subtotal")),1),n("td",qs,[n("strong",null,d(u.n(c.subtotal,"currency")),1)])]),n("tr",null,[n("th",null,d(u.t("orders.table.total")),1),n("td",Bs,[n("strong",null,d(u.n(c.total,"currency")),1)])]),n("tr",null,[n("th",null,d(u.t("orders.table.payment")),1),n("td",Rs,[n("strong",null,d(u.n(parseFloat((null==(h=c.order)?void 0:h.payment)||0),"currency")),1),c.hasPaymentInfo?(s(),l("span",{key:0,onClick:t[2]||(t[2]=(...e)=>c.togglePaymentInfo&&c.togglePaymentInfo(...e)),class:"icon is-small is-right has-text-info clickable-icon"},[js])):b("",!0)])]),n("tr",null,[n("th",null,d(u.t("orders.table.remain")),1),n("td",$s,[n("strong",null,d(u.n(c.remain,"currency")),1)])]),n("tr",null,[n("th",null,d(u.t("orders.table.status")),1),n("td",Fs,[c.order?(s(),l("strong",As,d(u.t(`orders.status.${c.order.status}`)),1)):b("",!0)])])])]),n("div",Hs,[n("button",{onClick:t[3]||(t[3]=(...e)=>c.togglePayment&&c.togglePayment(...e)),class:"button is-info is-outlined"},d(u.t("orders.pay")),1)]),c.order?(s(),l(k,{key:0,orderId:c.order.id,details:c.order.details},null,8,["orderId","details"])):b("",!0),c.showPayment?(s(),l(x,{key:1,orderId:c.order.id,onClose:c.togglePayment},null,8,["orderId","onClose"])):b("",!0),c.showInfo?(s(),l(I,{key:2,onClose:c.toggleInfo,phone:null==(f=c.customer)?void 0:f.phone,address:null==(g=c.customer)?void 0:g.address},null,8,["onClose","phone","address"])):b("",!0),c.showPaymentInfo?(s(),l(w,{key:3,onClose:c.togglePaymentInfo},null,8,["onClose"])):b("",!0)],64)}));_s.render=Ks,_s.__scopeId="data-v-461d98f8";const zs={components:{Suggestion:ba},inject:["t"],setup(){const e=C(),a=u(),s=t(null),l=h((()=>{const t=parseInt(e.query.customer);return isNaN(t)?null:t}));return{submit:()=>{s.value&&a.dispatch("orders/addOrder",{customer:s.value})},customer:s,initial:l}}},Gs=g("data-v-41f1e654");p("data-v-41f1e654");const Xs={class:"title is-4 has-text-centered"},Qs={class:"has-text-centered mt-5 pt-3"};m();const Js=Gs(((e,t,r,o,c,i)=>{const u=a("Suggestion");return s(),l(v,null,[n("h4",Xs,d(i.t("orders.addButton")),1),n("form",{onSubmit:t[2]||(t[2]=P(((...e)=>o.submit&&o.submit(...e)),["prevent"]))},[n(u,{action:"customers/fetchCustomers",getter:"customers/customers",initial:o.initial,modelValue:o.customer,"onUpdate:modelValue":t[1]||(t[1]=e=>o.customer=e),placeholder:i.t("customers.namePlaceholder"),label:i.t("customers.table.customer"),paramName:"name"},null,8,["initial","modelValue","placeholder","label"]),n("div",Qs,[n("button",{disabled:!o.customer,type:"submit",class:"button is-info is-outlined"},d(i.t("orders.addButton")),9,["disabled"])])],32)],64)}));zs.render=Js,zs.__scopeId="data-v-41f1e654";var Ws=[{path:"/orders",name:"orders",component:va},{path:"/orders/add",name:"order-add",component:zs},{path:"/orders/:id",name:"order-detail",component:_s}];const Ys={props:["staffDetail"],setup:e=>({toLink:h((()=>({name:"staff-detail",params:{id:e.staffDetail.id}})))})},Zs={class:"is-capitalized"},el={class:"has-text-centered"},tl={key:0,class:"has-text-primary icon"},al=n("i",{class:"fas fa-check"},null,-1),sl={key:1,class:"has-text-danger icon"},ll=n("i",{class:"fas fa-xmark"},null,-1);Ys.render=function(e,t,c,i,u,p){const m=a("router-link");return s(),l("tr",null,[n("td",Zs,[n(m,{to:i.toLink,class:{deleted:!c.staffDetail.active}},{default:r((()=>[o(d(c.staffDetail.name),1)])),_:1},8,["to","class"])]),n("td",el,[c.staffDetail.active?(s(),l("span",tl,[al])):(s(),l("span",sl,[ll]))])])};const nl={components:{StaffRow:Ys},inject:["t"],setup(){const e=u();i((()=>{e.dispatch("staff/fetchStaff")}));return{staff:h((()=>e.getters["staff/staff"]))}}},rl=n("h4",{class:"title is-4 has-text-centered mt-2"},"Danh sách Nhân Viên",-1),ol={class:"table is-bordered mb-5"},dl=n("thead",null,[n("tr",{class:"has-text-centered"},[n("th",null,"Tên Nhân Viên"),n("th",null,"Đang làm")])],-1);nl.render=function(e,t,r,o,d,c){const i=a("StaffRow");return s(),l(v,null,[rl,n("table",ol,[dl,n("tbody",null,[(s(!0),l(v,null,f(o.staff,(e=>(s(),l(i,{key:e.id,staffDetail:e},null,8,["staffDetail"])))),128))])])],64)};const cl={components:{StaffList:nl},inject:["t","websiteTitle"],created(){document.title="Nhân Viên - "+this.websiteTitle}},il={class:"table-page"},ul={class:"has-text-right"},pl=o("Thêm Nhân Viên");cl.render=function(e,t,o,d,c,i){const u=a("router-link"),p=a("StaffList");return s(),l("div",il,[n("div",ul,[n(u,{to:{name:"staff-add"},class:"button is-info is-outlined"},{default:r((()=>[pl])),_:1})]),n(p)])};const ml={components:{UnrequiredInput:ae},inject:["t","n"],setup(){const e=C(),a=u(),s=t(!1),l=t(""),n=t(""),r=t(!0),o=x("websiteTitle");i((async()=>{await a.dispatch("staff/fetchStaff"),a.commit("staff/setEditingStaff",parseInt(e.params.id)),document.title=`Nhân Viên - ${o}`}));const d=h((()=>a.getters["staff/editingStaff"]));k(d,(()=>{var e,t,a;l.value=null==(e=d.value)?void 0:e.phone,n.value=null==(t=d.value)?void 0:t.address,r.value=null==(a=d.value)?void 0:a.active}));return{staffDetail:d,isEditing:s,phone:l,address:n,active:r,save:async()=>{await a.dispatch("staff/editStaff",{phone:l.value,address:n.value,active:r.value}),s.value=!1}}}},hl=g("data-v-85e9268a");p("data-v-85e9268a");const vl=n("h3",{class:"title is-3 has-text-centered"},"Thông Tin Nhân Viên",-1),fl={class:"table is-bordered"},gl=n("th",null,"Tên Nhân Viên",-1),bl={class:"has-text-centered"},yl={class:"is-capitalized"},kl={class:"has-text-centered"},xl={key:1},Il={key:1},wl=n("th",null,"Trạng Thái",-1),Pl={key:0,class:"has-text-centered"},Vl={key:0},Cl={key:1},Sl={key:1,class:"has-text-centered"},Ul={key:0,class:"has-text-centered button-group"},Tl={key:1,class:"has-text-centered button-group"};m();const _l=hl(((e,t,r,o,c,i)=>{var u,p,m,h;const f=a("UnrequiredInput");return s(),l(v,null,[vl,n("table",fl,[n("tbody",null,[n("tr",null,[gl,n("td",bl,[n("strong",yl,d(null==(u=o.staffDetail)?void 0:u.name),1)])]),n("tr",null,[n("th",null,d(i.t("customers.table.phone")),1),n("td",kl,[o.isEditing?(s(),l(f,{key:0,type:"text",modelValue:o.phone,"onUpdate:modelValue":t[1]||(t[1]=e=>o.phone=e),placeholder:"Nhập số điện thoại của nhân viên"},null,8,["modelValue"])):(s(),l("strong",xl,d(null==(p=o.staffDetail)?void 0:p.phone),1))])]),n("tr",null,[n("th",null,d(i.t("customers.table.address")),1),n("td",null,[o.isEditing?(s(),l(f,{key:0,type:"text",modelValue:o.address,"onUpdate:modelValue":t[2]||(t[2]=e=>o.address=e),placeholder:"Nhập số địa chỉ của nhân viên"},null,8,["modelValue"])):(s(),l("span",Il,d(null==(m=o.staffDetail)?void 0:m.address),1))])]),n("tr",null,[wl,o.isEditing?(s(),l("td",Sl,[I(n("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=e=>o.active=e)},null,512),[[_,o.active]])])):(s(),l("td",Pl,[(null==(h=o.staffDetail)?void 0:h.active)?(s(),l("span",Vl,"Đang Làm")):(s(),l("span",Cl,"Đã Nghỉ"))]))])])]),o.isEditing?(s(),l("div",Ul,[n("button",{onClick:t[4]||(t[4]=(...e)=>o.save&&o.save(...e)),class:"button is-info mx-5"},d(i.t("save")),1),n("button",{onClick:t[5]||(t[5]=e=>o.isEditing=!1),class:"button mx-5"},d(i.t("cancel")),1)])):(s(),l("div",Tl,[n("button",{onClick:t[6]||(t[6]=e=>o.isEditing=!0),class:"button is-info mx-5"},d(i.t("edit")),1)]))],64)}));ml.render=_l,ml.__scopeId="data-v-85e9268a";const El={components:{RequiredInput:ve,ErrorMessage:ta},inject:["t"],setup(){const e=t(""),a=u(),s=t("");return{name:e,errorMessage:s,onSubmit:async()=>{try{await a.dispatch("staff/addStaff",{name:e.value.trim()})}catch(t){console.log(t),t.response.data.name&&(s.value="Khách Hàng đã tồn tại")}}}}},Nl=g("data-v-f135a97a");p("data-v-f135a97a");const Ol=n("h4",{class:"title is-4 has-text-centered"},"Thêm Nhân Viên",-1),Dl={class:"field is-grouped is-grouped-centered"},Ll={class:"control"},Ml={class:"control"};m();const ql=Nl(((e,t,r,c,i,u)=>{const p=a("RequiredInput"),m=a("ErrorMessage"),h=a("router-link");return s(),l(v,null,[Ol,n("form",{onSubmit:t[3]||(t[3]=P(((...e)=>c.onSubmit&&c.onSubmit(...e)),["prevent"]))},[n(p,{label:"Tên Nhân Viên",placeholder:"Tên Nhân Viên",modelValue:c.name,"onUpdate:modelValue":t[1]||(t[1]=e=>c.name=e),type:"text",onKeydown:t[2]||(t[2]=e=>c.errorMessage="")},null,8,["modelValue"]),n(m,{errorMessage:c.errorMessage},null,8,["errorMessage"]),n("div",Dl,[n("div",Ll,[n("button",{type:"submit",class:"button is-info",style:{width:"100px"},disabled:!c.name},d(u.t("add")),9,["disabled"])]),n("div",Ml,[n(h,{to:{name:"staff"},class:"button is-link is-light",style:{width:"100px"}},{default:Nl((()=>[o(d(u.t("cancel")),1)])),_:1})])])],32)],64)}));El.render=ql,El.__scopeId="data-v-f135a97a";var Bl=[{path:"/staff",name:"staff",component:cl},{path:"/staff/add",name:"staff-add",component:El},{path:"/staff/:id",name:"staff-detail",component:ml}];const Rl={inject:["t"],setup(){const e=u();return{language:h((()=>e.getters.language)),change:t=>{e.dispatch("changeLanguage",t.target.value)}}}},jl=g("data-v-306df169");p("data-v-306df169");const $l={class:"title is-3 has-text-centered"},Fl={class:"language"},Al={class:"select"},Hl=n("option",{value:"en"},"English",-1),Kl=n("option",{value:"vi"},"Tiếng Việt",-1);m();const zl=jl(((e,t,a,r,o,c)=>(s(),l(v,null,[n("h3",$l,d(c.t("settings.title")),1),n("div",Fl,[n("p",null,[n("strong",null,d(c.t("settings.selectLanguage")),1)]),n("div",Al,[n("select",{value:r.language,onChange:t[1]||(t[1]=(...e)=>r.change&&r.change(...e))},[Hl,Kl],40,["value"])])])],64))));Rl.render=zl,Rl.__scopeId="data-v-306df169";const Gl=[];Gl.push(...ct),Gl.push(...ma),Gl.push(...Ws),Gl.push(...Bl),Gl.push({path:"/settings",name:"settings",component:Rl});const Xl=E({history:N(),routes:Gl});var Ql={products:e=>e.products,product:e=>e.product,productId(e){var t;return null==(t=e.product)?void 0:t.id}},Jl={fetchProducts(e,t){e.products=t},fetchProduct(e,t){e.product=t},activateProduct(e){e.product.active=!0},deactivateProduct(e){e.product.active=!1},editProduct(t,{name:a,description:s}){t.product=e(e({},t.product),{name:a,description:s})},addUnit(e,t){e.product.units.push(t)},activateUnit(e,t){e.product.units.forEach((e=>{t===e.id&&(e.active=!0)}))},deactivateUnit(e,t){e.product.units.forEach((e=>{t===e.id&&(e.active=!1)}))},editUnit(t,{unitId:a,payload:s}){t.product.units=t.product.units.map((t=>a===t.id?e(e({},t),s):t))}};const Wl=window.location.hostname||"localhost",Yl=O.create({baseURL:`http://${Wl}:8000/api/`});class Zl{constructor(e){this.BASE_ENDPOINT=e}fetchAll(e={}){return Yl.get(`${this.BASE_ENDPOINT}/`,{params:e})}fetchOneById(e){return Yl.get(`${this.BASE_ENDPOINT}/${e}/`)}add(e){return Yl.post(`${this.BASE_ENDPOINT}/`,e)}updateById(e,t){return Yl.patch(`${this.BASE_ENDPOINT}/${e}/`,t)}}var en={products:new class extends Zl{activateProduct(e){return Yl.patch(`products/${e}/`,{active:!0})}deactivateProduct(e){return Yl.patch(`products/${e}/`,{active:!1})}addUnit(e){return Yl.post("units/",e)}updateUnitById(e,t){return Yl.patch(`units/${e}/`,t)}activateUnit(e){return Yl.patch(`units/${e}/`,{active:!0})}deactivateUnit(e){return Yl.patch(`units/${e}/`,{active:!1})}}("products"),customers:new Zl("customers"),orders:new Zl("orders"),orderDetails:new Zl("orders/details"),staff:new Zl("staff"),payments:new Zl("orders/payments")},tn={namespaced:!0,state:()=>({products:[],product:null}),getters:Ql,mutations:Jl,actions:{async fetchProducts({commit:e},t={}){e("fetchProducts",(await en.products.fetchAll(t)).data)},async fetchProduct({commit:e},t){e("fetchProduct",(await en.products.fetchOneById(t)).data)},async addProduct(e,t){const a=await en.products.add(t);Xl.push(`/products/${a.data.id}`)},async editProduct({commit:e,getters:t},a){await en.products.updateById(t.productId,a),e("editProduct",a)},async activateProduct({commit:e,getters:t}){await en.products.activateProduct(t.productId),e("activateProduct")},async deactivateProduct({commit:e,getters:t}){await en.products.deactivateProduct(t.productId),e("deactivateProduct")},async addUnit({commit:e},t){e("addUnit",(await en.products.addUnit(t)).data)},async editUnit({commit:e},{unitId:t,payload:a}){await en.products.updateUnitById(t,a),e("editUnit",{unitId:t,payload:a})},async activateUnit({commit:e},t){await en.products.activateUnit(t),e("activateUnit",t)},async deactivateUnit({commit:e},t){await en.products.deactivateUnit(t),e("deactivateUnit",t)}}},an={namespaced:!0,state:()=>({customers:[],customer:null}),getters:{customers:e=>e.customers,customer:e=>e.customer,customerName(e){var t,a;return null!=(a=null==(t=e.customer)?void 0:t.name)?a:""},customerId(e){var t;return null==(t=e.customer)?void 0:t.id}},mutations:{fetchCustomers(e,t){e.customers=t},fetchCustomer(e,t){e.customer=t},editCustomer(t,a){t.customer=e(e({},t.customer),a)}},actions:{async fetchCustomers({commit:e},t={}){e("fetchCustomers",(await en.customers.fetchAll(t)).data)},async fetchCustomer({commit:e},t){e("fetchCustomer",(await en.customers.fetchOneById(t)).data)},async addCustomer(e,t){const a=await en.customers.add(t);Xl.push({name:"customer-detail",params:{id:a.data.id}})},async editCustomer({commit:e,getters:t},a){await en.customers.updateById(t.customerId,a),e("editCustomer",a)}}},sn={namespaced:!0,state:()=>({orders:[],order:null,customer:null,payments:[]}),getters:{orders:e=>e.orders,order:e=>e.order,orderId(e){var t;return null==(t=e.order)?void 0:t.id},customer:e=>e.customer,subtotal(e){var t;return(null==(t=e.order)?void 0:t.details.reduce(((e,t)=>e+parseFloat(t.cost)),0))||0},payment(e){var t;return(null==(t=e.order)?void 0:t.payment)||0},hasPayment:e=>e.payments.length>0,payments:e=>e.payments},mutations:{fetchOrders(e,t){e.orders=t},fetchOrder(e,t){e.order=t},editOrder(t,a){t.order=e(e({},t.order),a)},fetchOrderCusomer(e,t){e.customer=t},addDetail(e,t){e.order.details.push(t)},editDetail(e,{id:t,detail:a}){e.order.details=e.order.details.map((e=>e.id===t?a:e));const s=e.order.details.every((e=>e.ready)),l=e.order.details.every((e=>!e.ready));e.order.status=s?"r":l?"o":"p"},pay(e,t){e.payments.unshift(t),e.order.payment+=parseFloat(t.amount)},fetchPayments(e,t){e.payments=t}},actions:{async fetchOrders({commit:e},t={}){e("fetchOrders",(await en.orders.fetchAll(t)).data)},async fetchOrder({commit:e},t){const a=await en.orders.fetchOneById(t);e("fetchOrder",a.data);e("fetchOrderCusomer",(await en.customers.fetchOneById(a.data.customer)).data)},async addOrder(e,t){const a=await en.orders.add(t);Xl.push({name:"order-detail",params:{id:a.data.id}})},async editOrder({commit:e,getters:t},a){await en.orders.updateById(t.orderId,a),e("editOrder",a)},async pay({commit:e},t){e("pay",(await en.payments.add(t)).data)},async fetchPayments({commit:e},t){e("fetchPayments",(await en.payments.fetchAll({orderId:t})).data)},async addDetail({commit:e},t){e("addDetail",(await en.orderDetails.add(t)).data)},async editDetail({commit:e},{id:t,payload:a}){e("editDetail",{id:t,detail:(await en.orderDetails.updateById(t,a)).data})}}},ln={namespaced:!0,state:()=>({staff:[],editingStaff:null}),getters:{staff:e=>e.staff,activeStaff:e=>e.staff.filter((e=>e.active)),staffId(e){var t;return null==(t=e.editingStaff)?void 0:t.id},editingStaff:e=>e.editingStaff},mutations:{fetchStaff(e,t){e.staff=t},addStaff(e,t){e.staff.push(t)},setEditingStaff(e,t){e.editingStaff=e.staff.find((e=>e.id===t))},editStaff(t,a){t.staff=t.staff.map((s=>{var l;return s.id!==(null==(l=t.editingStaff)?void 0:l.id)?s:e(e({},s),a)})),t.editingStaff=e(e({},t.editingStaff),a)}},actions:{async fetchStaff({commit:e}){e("fetchStaff",(await en.staff.fetchAll()).data)},async addStaff({commit:e},t){const a=await en.staff.add(t);e("addStaff",a.data),Xl.push(`/staff/${a.data.id}`)},async editStaff({commit:e,getters:t},a){await en.staff.updateById(t.staffId,a),e("editStaff",a)}}};const nn=D({locale:"en",messages:{en:{navbar:{products:"Products",customers:"Customers",orders:"Orders",settings:"Settings"},products:{list:"Product List",table:{product:"Product",unit:"Measurement Unit",price:"Price"},addButton:"Add Product",name:"Name",namePlaceholder:"Enter product name",description:"Description",descriptionPlaceholder:"Enter product description",addTitle:"Add Product",detailTitle:"Product",searchPlaceholder:"Enter name to search for products"},units:{title:"Units",name:"Name",namePlaceholder:"Enter unit name",price:"Price",pricePlaceholder:"Enter price",action:"Action"},customers:{searchPlaceholder:"Enter name to search for customers",list:"Customer List",addButton:"Add Customer",table:{customer:"Customer",phone:"Phone",address:"Address",debt:"Debt"},detailTitle:"Customer",description:"Description",namePlaceholder:"Enter customer name",phonePlaceholder:"Enter customer phone number",addressPlaceholder:"Enter customer address",descriptionPlaceholder:"Enter customer description",addTitle:"Add Customer"},orders:{searchPlaceholder:"Enter customer name to search for orders",list:"Order List",addButton:"Add Order",table:{date:"Date",subtotal:"Subtotal",total:"Total",payment:"Payment",remain:"Remain",status:"Status"},status:{o:"Ordered",p:"Preparing",r:"Ready",s:"Shipped"},detailTitle:"Order",details:{title:"Order Details",quantity:"Quantity",cost:"Cost",ready:"Ready",add:"Add Order Detail",edit:"Edit",editTitle:"Edit Order Detail",select:"Select Measurement Unit"},quantityPlaceholder:"Enter quantity",pay:"Pay",paymentPlaceholder:"Enter payment",payment:{title:"Payment",payment:"Payment"}},settings:{title:"Settings",selectLanguage:"Select your language"},add:"Add",save:"Save",cancel:"Cancel",recover:"Recover",edit:"Edit",delete:"Delete",search:"Search"},vi:{navbar:{products:"Hàng Hóa",customers:"Khách Hàng",orders:"Đơn Hàng",settings:"Cài Đặt"},products:{list:"Danh sách các mặt hàng",table:{product:"Tên hàng",unit:"Đơn vị tính",price:"Giá tiền"},addButton:"Thêm mặt hàng",name:"Tên hàng",namePlaceholder:"Nhập tên hàng",description:"Thông tin mặt hàng",descriptionPlaceholder:"Nhập thông tin về mặt hàng",addTitle:"Thêm Mặt Hàng",detailTitle:"Thông tin hàng",searchPlaceholder:"Nhập tên để tìm kiếm hàng"},units:{title:"Đơn vị tính",name:"Đơn vị",namePlaceholder:"Nhập đơn vị",price:"Giá tiền",pricePlaceholder:"Nhập giá tiền",action:""},customers:{searchPlaceholder:"Nhập tên để tìm kiếm khách hàng",list:"Danh sách khách hàng",addButton:"Thêm Khách Hàng",table:{customer:"Tên Khách Hàng",phone:"S.Đ.T.",address:"Địa Chỉ",debt:"Nợ Cũ"},detailTitle:"Khách Hàng",description:"Thông Tin Khách Hàng",namePlaceholder:"Nhập tên khách hàng",phonePlaceholder:"Nhập số  điện thoại của khách hàng",addressPlaceholder:"Nhập địa chỉ của khách hàng",descriptionPlaceholder:"Nhập thông tin khách hàng",addTitle:"Thêm Khách Hàng"},orders:{searchPlaceholder:"Nhập tên khách hàng để tìm kiếm đơn hàng",list:"Danh sách đơn hàng",addButton:"Thêm Đơn Hàng",table:{date:"Ngày",subtotal:"Tổng tiền hàng",total:"Tổng tiền",payment:"Đã thanh toán",remain:"Còn thiếu",status:"Trạng Thái"},status:{o:"Chưa soạn",p:"Đang soạn",r:"Soạn xong",s:"Đã chở"},detailTitle:"Đơn Hàng",details:{title:"Thông Tin Đơn Hàng",quantity:"Số Lượng",cost:"Thành Tiền",ready:"Đã Soạn",add:"Thêm Mặt Hàng",edit:"",editTitle:"Chỉnh Sửa Thông Tin Hàng",select:"Chọn Đơn Vị Tính"},quantityPlaceholder:"Nhập số lượng hàng",pay:"Thanh toán",paymentPlaceholder:"Nhập số tiền đã thanh toán",payment:{title:"Thanh Toán",payment:"Số tiền đã thanh toán"}},settings:{title:"Cài Đặt",selectLanguage:"Lựa chọn ngôn ngữ"},add:"Thêm",save:"Lưu",cancel:"Hủy",recover:"Phục hồi",edit:"Chỉnh sửa",delete:"Xóa",search:"Tìm kiếm"}},numberFormats:{en:{currency:{style:"currency",currency:"USD"}},vi:{currency:{style:"currency",currency:"VND"}}}});var rn=L({modules:{products:tn,customers:an,orders:sn,staff:ln},state:{language:localStorage.getItem("language")||"vi"},getters:{language:e=>e.language},mutations:{changeLanguage(e,t){localStorage.setItem("language",t),e.language=t,nn.global.locale=t}},actions:{changeLanguage({commit:e},t){e("changeLanguage",t)},setLanguage({getters:e}){nn.global.locale=e.language}}});const on=M(K);on.use(Xl),on.use(rn),on.use(nn),on.mount("#app");
